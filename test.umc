#include <stdlib.h>
#include <stdio.h>

#include <umka_api.h>

typedef struct div_result {
	long quot, rem;
} div_result;

static inline int foo( void );
static inline div_result * divide( long a, long b );
static inline void hello( void );

#MODULE   bar
#FUNCTION foo    int        void
#FUNCTION divide div_result a:int, b:int
#FUNCTION hello  void       void

int foo( void ) {
	return 69;
}

div_result * divide( long a, long b ) {
	div_result * res = malloc( sizeof( div_result ) );
	*res = (div_result){
		a / b,
		a % b
	};
	return res;
}

void hello( void ) {
	printf( "Hello from umi!\n" );
}
